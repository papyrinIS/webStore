{"version":3,"file":"index.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\nexport default function useClickOutside(callback: EventListener) {\n  const container = useRef<HTMLElement>(null);\n  const [isTouchEvent, setTouchEvent] = useState(false);\n  const eventType = isTouchEvent ? 'touchend' : 'click';\n\n  function handleEvent(e: Event) {\n    if (e.type === 'click' && isTouchEvent) { return; } // prettier-ignore\n\n    if (container.current && e.target !== null) {\n      if (!container.current.contains(e.target as Node)) {\n        callback(e);\n      }\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener(eventType, handleEvent, true);\n\n    return () => {\n      document.removeEventListener(eventType, handleEvent, true);\n    };\n  });\n\n  useEffect(() => {\n    setTouchEvent('ontouchstart' in document.documentElement);\n  }, []);\n\n  return container;\n}\n"],"names":["useRef","useEffect"],"mappings":";;;;SAEwB,eAAe,CAAC,QAAuB;IAC7D,IAAM,SAAS,GAAGA,YAAM,CAAc,IAAI,CAAC,CAAC;IACtC,IAAA,0BAA+C,EAA9C,oBAAY,EAAE,qBAAgC,CAAC;IACtD,IAAM,SAAS,GAAG,YAAY,GAAG,UAAU,GAAG,OAAO,CAAC;IAEtD,SAAS,WAAW,CAAC,CAAQ;QAC3B,IAAI,CAAC,CAAC,IAAI,KAAK,OAAO,IAAI,YAAY,EAAE;YAAE,OAAO;SAAE;QAEnD,IAAI,SAAS,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,EAAE;YAC1C,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAc,CAAC,EAAE;gBACjD,QAAQ,CAAC,CAAC,CAAC,CAAC;aACb;SACF;KACF;IAEDC,eAAS,CAAC;QACR,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QAExD,OAAO;YACL,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;SAC5D,CAAC;KACH,CAAC,CAAC;IAEHA,eAAS,CAAC;QACR,aAAa,CAAC,cAAc,IAAI,QAAQ,CAAC,eAAe,CAAC,CAAC;KAC3D,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,SAAS,CAAC;CAClB;;;;"}