{"ast":null,"code":"import { AppleAPI, BasketAPI, DescriptionAPI, FeedBackAPI, XiaomiAPI } from \"../API/API\";\nconst SET_APPLE = \"SET_APPLE\";\nconst SET_XIAOMI = \"SET_XIAOMI\";\nconst SET_ONE_APPLE = \"SET_ONE_APPLE\";\nconst SET_ONE_XIAOMI = \"SET_ONE_XIAOMI\";\nconst SET_DESCRIPTION = \"SET_DESCRIPTION\";\nconst SET_BASKET = \"SET_BASKET\";\nconst ADD_IN_BASKET = \"ADD_IN_BASKET\";\nconst DELETE_IN_BASKET = \"DELETE_IN_BASKET\";\nconst COUNT_BASKET = \"COUNT_BASKET\";\nconst SEARCH = \"SEARCH\";\nconst SEARCH_BOX = \"SEARCH_BOX\";\nconst COUNT_BASKET_PRODUCTS = \"COUNT_BASKET_PRODUCTS\";\nconst SET_FEEDBACK = \"SETFEEDBACK\";\nconst ADD_FEEDBACK = \"ADD_FEEDBACK\";\nconst INITIALIZE_FEEDBACK = \"INITIALIZE_FEEDBACK\";\nconst INITIALIZE = \"INITIALIZE\";\nlet initState = {\n  apple: [],\n  xiaomi: [],\n  oneApple: [],\n  oneXiaomi: [],\n  description: [],\n  basket: [],\n  search: \"\",\n  searchBox: \"\",\n  countBasketProducts: 0,\n  feedback: [],\n  initializeFeedback: true,\n  initialize: true\n};\n\nconst Reduser = (state = initState, action) => {\n  switch (action.type) {\n    case SET_APPLE:\n      {\n        return { ...state,\n          apple: action.apple\n        };\n      }\n\n    case SET_XIAOMI:\n      {\n        return { ...state,\n          xiaomi: action.xiaomi\n        };\n      }\n\n    case SET_ONE_APPLE:\n      {\n        return { ...state,\n          oneXiaomi: [],\n          oneApple: action.oneApple\n        };\n      }\n\n    case SET_ONE_XIAOMI:\n      {\n        return { ...state,\n          oneApple: [],\n          oneXiaomi: action.oneXiaomi\n        };\n      }\n\n    case SET_DESCRIPTION:\n      {\n        return { ...state,\n          description: action.description\n        };\n      }\n\n    case SET_BASKET:\n      {\n        return { ...state,\n          basket: action.basket\n        };\n      }\n\n    case ADD_IN_BASKET:\n      {\n        return { ...state,\n          basket: [{\n            name: action.name,\n            photo: action.photo,\n            price: action.price,\n            count: 1\n          }]\n        };\n      }\n\n    case DELETE_IN_BASKET:\n      {\n        return { ...state,\n          basket: [...action.id]\n        };\n      }\n\n    case COUNT_BASKET:\n      {\n        return { ...state,\n          basket: [...state.basket]\n        };\n      }\n\n    case SEARCH:\n      {\n        return { ...state,\n          search: action.search\n        };\n      }\n\n    case SEARCH_BOX:\n      {\n        return { ...state,\n          searchBox: action.searchBox\n        };\n      }\n\n    case COUNT_BASKET_PRODUCTS:\n      {\n        return { ...state,\n          countBasketProducts: action.countBasketProducts\n        };\n      }\n\n    case SET_FEEDBACK:\n      {\n        return { ...state,\n          feedback: action.feedback\n        };\n      }\n\n    case ADD_FEEDBACK:\n      {\n        return { ...state,\n          feedback: [{\n            name: action.name,\n            productId: action.id,\n            feedBack: action.feedBack,\n            rating: action.rating\n          }, ...state.feedback]\n        };\n      }\n\n    case INITIALIZE_FEEDBACK:\n      return { ...state,\n        initializeFeedback: action.isInit\n      };\n\n    case INITIALIZE:\n      return { ...state,\n        initialize: action.isInitialize\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setApple = apple => ({\n  type: SET_APPLE,\n  apple\n});\nexport const setXiaomi = xiaomi => ({\n  type: SET_XIAOMI,\n  xiaomi\n});\nexport const setOneApple = oneApple => ({\n  type: SET_ONE_APPLE,\n  oneApple\n});\nexport const setOneXiaomi = oneXiaomi => ({\n  type: SET_ONE_XIAOMI,\n  oneXiaomi\n});\nexport const setDescription = description => ({\n  type: SET_DESCRIPTION,\n  description\n});\nexport const setBasket = basket => ({\n  type: SET_BASKET,\n  basket\n});\nexport const addInBasket = (name, photo, price) => ({\n  type: ADD_IN_BASKET,\n  name,\n  photo,\n  price\n});\nexport const deleteInBasket = id => ({\n  type: DELETE_IN_BASKET,\n  id\n});\nexport const countBasket = basket => ({\n  type: COUNT_BASKET,\n  basket\n});\nexport const searchAC = search => ({\n  type: SEARCH,\n  search\n});\nexport const searchBoxAC = searchBox => ({\n  type: SEARCH_BOX,\n  searchBox\n});\nexport const CountBasketProducts = countBasketProducts => ({\n  type: COUNT_BASKET_PRODUCTS,\n  countBasketProducts\n});\nexport const setFeedBack = feedback => ({\n  type: SET_FEEDBACK,\n  feedback\n});\nexport const addFeedBack = (name, id, feedBack, rating) => ({\n  type: ADD_FEEDBACK,\n  name,\n  id,\n  feedBack,\n  rating\n});\nexport const initializeFeedbackAC = isInit => ({\n  type: INITIALIZE_FEEDBACK,\n  isInit\n});\nexport const initializeAC = isInitialize => ({\n  type: INITIALIZE,\n  isInitialize\n});\nexport const getAppleThunk = () => async dispatch => {\n  let data = await AppleAPI.getApple();\n  dispatch(setApple(data));\n};\nexport const getOneAppleThunk = id => async dispatch => {\n  let data = await AppleAPI.getOneApple(id);\n  dispatch(setOneApple(data));\n};\nexport const getXiaomiThunk = () => async dispatch => {\n  let data = await XiaomiAPI.getXiaomi();\n  dispatch(setXiaomi(data));\n};\nexport const getOneXiaomiThunk = id => async dispatch => {\n  let data = await XiaomiAPI.getOneXiaomi(id);\n  dispatch(setOneXiaomi(data));\n};\nexport const getDescriptionThunk = () => async dispatch => {\n  let data = await DescriptionAPI.getDescription();\n  dispatch(setDescription(data));\n};\nexport const getBasketThunk = () => async dispatch => {\n  let data = await BasketAPI.getBasket();\n  dispatch(setBasket(data));\n};\nexport const addInBasketThunk = (name, photo, price, id) => async dispatch => {\n  let data = await BasketAPI.addInBasket(name, photo, price, id);\n  dispatch(addInBasket(data.name, data.photo, data.price, data.id));\n};\nexport const deleteInBasketThunk = (id, delSmart) => async dispatch => {\n  await BasketAPI.deleteInBasket(id);\n  dispatch(deleteInBasket(delSmart.filter(d => d.id !== id)));\n};\nexport const countBasketThunk = (id, count) => async dispatch => {\n  let data = await BasketAPI.countBasket(id, count);\n  dispatch(countBasket(data));\n};\nexport const getFeedBackThunk = () => async dispatch => {\n  let data = await FeedBackAPI.getFeedBack();\n  dispatch(setFeedBack(data));\n};\nexport const addFeedBackThunk = (name, id, feedBack, rating) => async dispatch => {\n  let data = await FeedBackAPI.addFeedBack(name, id, feedBack, rating);\n  dispatch(addFeedBack(data.name, data.id, data.feedBack, data.rating));\n};\nexport const initializeFeedbackThunk = (name, id, feedBack, rating) => dispatch => {\n  let promise = dispatch(addFeedBackThunk(name, id, feedBack, rating));\n  Promise.all([promise]).then(() => {\n    dispatch(getFeedBackThunk());\n    dispatch(initializeFeedbackAC(true));\n  });\n};\nexport const initializeApp = () => dispatch => {\n  let promise = dispatch(getAppleThunk());\n  let promise2 = dispatch(getXiaomiThunk());\n  Promise.all([promise, promise2]).then(() => {\n    dispatch(initializeAC(true));\n  });\n};\nexport const initializeApple = () => dispatch => {\n  let promise = dispatch(getAppleThunk());\n  Promise.all([promise]).then(() => {\n    dispatch(initializeAC(true));\n  });\n};\nexport const initializeXiaomi = () => dispatch => {\n  let promise = dispatch(getXiaomiThunk());\n  Promise.all([promise]).then(() => {\n    dispatch(initializeAC(true));\n  });\n};\nexport const initializeOneXiaomi = id => dispatch => {\n  let promise = dispatch(getOneXiaomiThunk(id));\n  Promise.all([promise]).then(() => {\n    dispatch(initializeAC(true));\n  });\n};\nexport const initializeOneApple = id => dispatch => {\n  let promise = dispatch(getOneAppleThunk(id));\n  Promise.all([promise]).then(() => {\n    dispatch(initializeAC(true));\n  });\n};\nexport const initializeCounter = (id, count) => dispatch => {\n  let promise = dispatch(countBasketThunk(id, count));\n  Promise.all([promise]).then(() => {\n    dispatch(getBasketThunk());\n  });\n};\nexport default Reduser;","map":{"version":3,"sources":["C:/Users/sqrt9/Desktop/react/projects/new-shop/src/Redux/Reduser.js"],"names":["AppleAPI","BasketAPI","DescriptionAPI","FeedBackAPI","XiaomiAPI","SET_APPLE","SET_XIAOMI","SET_ONE_APPLE","SET_ONE_XIAOMI","SET_DESCRIPTION","SET_BASKET","ADD_IN_BASKET","DELETE_IN_BASKET","COUNT_BASKET","SEARCH","SEARCH_BOX","COUNT_BASKET_PRODUCTS","SET_FEEDBACK","ADD_FEEDBACK","INITIALIZE_FEEDBACK","INITIALIZE","initState","apple","xiaomi","oneApple","oneXiaomi","description","basket","search","searchBox","countBasketProducts","feedback","initializeFeedback","initialize","Reduser","state","action","type","name","photo","price","count","id","productId","feedBack","rating","isInit","isInitialize","setApple","setXiaomi","setOneApple","setOneXiaomi","setDescription","setBasket","addInBasket","deleteInBasket","countBasket","searchAC","searchBoxAC","CountBasketProducts","setFeedBack","addFeedBack","initializeFeedbackAC","initializeAC","getAppleThunk","dispatch","data","getApple","getOneAppleThunk","getOneApple","getXiaomiThunk","getXiaomi","getOneXiaomiThunk","getOneXiaomi","getDescriptionThunk","getDescription","getBasketThunk","getBasket","addInBasketThunk","deleteInBasketThunk","delSmart","filter","d","countBasketThunk","getFeedBackThunk","getFeedBack","addFeedBackThunk","initializeFeedbackThunk","promise","Promise","all","then","initializeApp","promise2","initializeApple","initializeXiaomi","initializeOneXiaomi","initializeOneApple","initializeCounter"],"mappings":"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","sourcesContent":["import {AppleAPI, BasketAPI, DescriptionAPI, FeedBackAPI, XiaomiAPI} from \"../API/API\";\r\n\r\nconst SET_APPLE = \"SET_APPLE\"\r\nconst SET_XIAOMI = \"SET_XIAOMI\"\r\nconst SET_ONE_APPLE = \"SET_ONE_APPLE\"\r\nconst SET_ONE_XIAOMI = \"SET_ONE_XIAOMI\"\r\nconst SET_DESCRIPTION = \"SET_DESCRIPTION\"\r\nconst SET_BASKET = \"SET_BASKET\"\r\nconst ADD_IN_BASKET = \"ADD_IN_BASKET\"\r\nconst DELETE_IN_BASKET = \"DELETE_IN_BASKET\"\r\nconst COUNT_BASKET = \"COUNT_BASKET\"\r\nconst SEARCH = \"SEARCH\"\r\nconst SEARCH_BOX = \"SEARCH_BOX\"\r\nconst COUNT_BASKET_PRODUCTS = \"COUNT_BASKET_PRODUCTS\"\r\nconst SET_FEEDBACK = \"SETFEEDBACK\"\r\nconst ADD_FEEDBACK = \"ADD_FEEDBACK\"\r\nconst INITIALIZE_FEEDBACK = \"INITIALIZE_FEEDBACK\"\r\nconst INITIALIZE = \"INITIALIZE\"\r\n\r\n\r\nlet initState = {\r\n    apple: [],\r\n    xiaomi: [],\r\n    oneApple: [],\r\n    oneXiaomi: [],\r\n    description: [],\r\n    basket: [],\r\n    search: \"\",\r\n    searchBox: \"\",\r\n    countBasketProducts: 0,\r\n    feedback: [],\r\n    initializeFeedback: true,\r\n    initialize: true,\r\n    \r\n}\r\n\r\n\r\nconst Reduser = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_APPLE: {\r\n            return {\r\n                ...state,\r\n                apple: action.apple\r\n            }\r\n        }\r\n        case SET_XIAOMI: {\r\n            return {\r\n                ...state,\r\n                xiaomi: action.xiaomi\r\n            }\r\n        }\r\n        case SET_ONE_APPLE: {\r\n            return {\r\n                ...state,\r\n                oneXiaomi: [],\r\n                oneApple: action.oneApple,\r\n\r\n            }\r\n        }\r\n        case SET_ONE_XIAOMI: {\r\n            return {\r\n                ...state,\r\n                oneApple: [],\r\n                oneXiaomi: action.oneXiaomi\r\n            }\r\n        }\r\n        case SET_DESCRIPTION: {\r\n            return {\r\n                ...state,\r\n                description: action.description\r\n            }\r\n        }\r\n        case SET_BASKET: {\r\n            return {\r\n                ...state,\r\n                basket: action.basket\r\n            }\r\n        }\r\n        case ADD_IN_BASKET: {\r\n            return {\r\n                ...state,\r\n                basket: [{\r\n                    name: action.name,\r\n                    photo: action.photo,\r\n                    price: action.price,\r\n                    count: 1\r\n                }]\r\n            }\r\n        }\r\n        case DELETE_IN_BASKET: {\r\n            return {\r\n                ...state,\r\n                basket: [...action.id]\r\n            }\r\n        }\r\n        case COUNT_BASKET: {\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket]\r\n            }\r\n        }\r\n        case SEARCH: {\r\n            return {\r\n                ...state,\r\n                search: action.search\r\n            }\r\n        }\r\n        case SEARCH_BOX: {\r\n            return {\r\n                ...state,\r\n                searchBox: action.searchBox\r\n            }\r\n        }\r\n        case COUNT_BASKET_PRODUCTS: {\r\n            return {\r\n                ...state,\r\n                countBasketProducts: action.countBasketProducts\r\n            }\r\n        }\r\n        case SET_FEEDBACK: {\r\n            return {\r\n                ...state,\r\n                feedback: action.feedback\r\n            }\r\n        }\r\n        case ADD_FEEDBACK: {\r\n            return {\r\n                ...state,\r\n                feedback: [{\r\n                    name: action.name,\r\n                    productId: action.id,\r\n                    feedBack: action.feedBack,\r\n                    rating: action.rating\r\n                }, ...state.feedback]\r\n            }\r\n        }\r\n        case INITIALIZE_FEEDBACK:\r\n            return {\r\n                ...state,\r\n                initializeFeedback: action.isInit\r\n            }\r\n        case INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialize: action.isInitialize\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setApple = (apple) => ({type: SET_APPLE, apple})\r\nexport const setXiaomi = (xiaomi) => ({type: SET_XIAOMI, xiaomi})\r\nexport const setOneApple = (oneApple) => ({type: SET_ONE_APPLE, oneApple})\r\nexport const setOneXiaomi = (oneXiaomi) => ({type: SET_ONE_XIAOMI, oneXiaomi})\r\nexport const setDescription = (description) => ({type: SET_DESCRIPTION, description})\r\nexport const setBasket = (basket) => ({type: SET_BASKET, basket})\r\nexport const addInBasket = (name, photo, price) => ({type: ADD_IN_BASKET, name, photo, price})\r\nexport const deleteInBasket = (id) => ({type: DELETE_IN_BASKET, id})\r\nexport const countBasket = (basket) => ({type: COUNT_BASKET, basket})\r\nexport const searchAC = (search) => ({type: SEARCH, search})\r\nexport const searchBoxAC = (searchBox) => ({type: SEARCH_BOX, searchBox})\r\nexport const CountBasketProducts = (countBasketProducts) => ({type: COUNT_BASKET_PRODUCTS, countBasketProducts})\r\nexport const setFeedBack = (feedback) => ({type: SET_FEEDBACK, feedback})\r\nexport const addFeedBack = (name, id, feedBack, rating) => ({type: ADD_FEEDBACK, name, id, feedBack, rating})\r\nexport const initializeFeedbackAC = (isInit) => ({type: INITIALIZE_FEEDBACK, isInit})\r\nexport const initializeAC = (isInitialize) => ({type: INITIALIZE, isInitialize})\r\n\r\n\r\nexport const getAppleThunk = () => async (dispatch) => {\r\n    let data = await AppleAPI.getApple();\r\n    dispatch(setApple(data))\r\n}\r\nexport const getOneAppleThunk = (id) => async (dispatch) => {\r\n    let data = await AppleAPI.getOneApple(id);\r\n    dispatch(setOneApple(data))\r\n}\r\nexport const getXiaomiThunk = () => async (dispatch) => {\r\n    let data = await XiaomiAPI.getXiaomi();\r\n    dispatch(setXiaomi(data))\r\n}\r\nexport const getOneXiaomiThunk = (id) => async (dispatch) => {\r\n    let data = await XiaomiAPI.getOneXiaomi(id);\r\n    dispatch(setOneXiaomi(data))\r\n}\r\nexport const getDescriptionThunk = () => async (dispatch) => {\r\n    let data = await DescriptionAPI.getDescription();\r\n    dispatch(setDescription(data))\r\n}\r\nexport const getBasketThunk = () => async (dispatch) => {\r\n    let data = await BasketAPI.getBasket();\r\n    dispatch(setBasket(data));\r\n}\r\nexport const addInBasketThunk = (name, photo, price, id) => async (dispatch) => {\r\n    let data = await BasketAPI.addInBasket(name, photo, price, id);\r\n    dispatch(addInBasket(data.name, data.photo, data.price, data.id))\r\n}\r\nexport const deleteInBasketThunk = (id, delSmart) => async (dispatch) => {\r\n    await BasketAPI.deleteInBasket(id);\r\n    dispatch(deleteInBasket(delSmart.filter(d => d.id !== id)))\r\n}\r\nexport const countBasketThunk = (id, count) => async (dispatch) => {\r\n    let data = await BasketAPI.countBasket(id, count);\r\n    dispatch(countBasket(data))\r\n}\r\nexport const getFeedBackThunk = () => async (dispatch) => {\r\n    let data = await FeedBackAPI.getFeedBack();\r\n    dispatch(setFeedBack(data))\r\n}\r\nexport const addFeedBackThunk = (name, id, feedBack, rating) => async (dispatch) => {\r\n    let data = await FeedBackAPI.addFeedBack(name, id, feedBack, rating);\r\n    dispatch(addFeedBack(data.name, data.id, data.feedBack, data.rating))\r\n}\r\n\r\n\r\nexport const initializeFeedbackThunk = (name, id, feedBack, rating) => (dispatch) => {\r\n    let promise = dispatch(addFeedBackThunk(name, id, feedBack, rating));\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(getFeedBackThunk());\r\n            dispatch(initializeFeedbackAC(true))\r\n        });\r\n}\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAppleThunk());\r\n    let promise2 = dispatch(getXiaomiThunk())\r\n\r\n    Promise.all([promise, promise2])\r\n        .then(() => {\r\n            dispatch(initializeAC(true))\r\n        });\r\n}\r\nexport const initializeApple = () => (dispatch) => {\r\n    let promise = dispatch(getAppleThunk());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializeAC(true))\r\n        });\r\n}\r\nexport const initializeXiaomi = () => (dispatch) => {\r\n\r\n    let promise = dispatch(getXiaomiThunk());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializeAC(true))\r\n        });\r\n}\r\nexport const initializeOneXiaomi = (id) => (dispatch) => {\r\n\r\n    let promise = dispatch(getOneXiaomiThunk(id));\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializeAC(true))\r\n        });\r\n}\r\nexport const initializeOneApple = (id) => (dispatch) => {\r\n\r\n    let promise = dispatch(getOneAppleThunk(id));\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializeAC(true))\r\n        });\r\n}\r\nexport const initializeCounter = (id,count) => (dispatch) => {\r\n\r\n    let promise = dispatch(countBasketThunk(id,count))\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(getBasketThunk())\r\n        });\r\n}\r\n\r\n\r\n\r\n\r\nexport default Reduser;"]},"metadata":{},"sourceType":"module"}